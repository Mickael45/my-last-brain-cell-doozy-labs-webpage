module.exports=[37936,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(11857)},13095,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},44252,a=>{"use strict";let b;a.s(["getProjectById",()=>aN,"getProjects",()=>aM],44252);var c,d,e=a.i(37936);let f="1.25.4";a.s(["byteLength",()=>n,"fromByteArray",()=>p,"toByteArray",()=>o],20476);for(var g=[],h=[],i=Uint8Array,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=0,l=j.length;k<l;++k)g[k]=j[k],h[j.charCodeAt(k)]=k;function m(a){var b=a.length;if(b%4>0)throw Error("Invalid string. Length must be a multiple of 4");var c=a.indexOf("=");-1===c&&(c=b);var d=c===b?0:4-c%4;return[c,d]}function n(a){var b=m(a),c=b[0],d=b[1];return(c+d)*3/4-d}function o(a){var b,c,d=m(a),e=d[0],f=d[1],g=new i((e+f)*3/4-f),j=0,k=f>0?e-4:e;for(c=0;c<k;c+=4)b=h[a.charCodeAt(c)]<<18|h[a.charCodeAt(c+1)]<<12|h[a.charCodeAt(c+2)]<<6|h[a.charCodeAt(c+3)],g[j++]=b>>16&255,g[j++]=b>>8&255,g[j++]=255&b;return 2===f&&(b=h[a.charCodeAt(c)]<<2|h[a.charCodeAt(c+1)]>>4,g[j++]=255&b),1===f&&(b=h[a.charCodeAt(c)]<<10|h[a.charCodeAt(c+1)]<<4|h[a.charCodeAt(c+2)]>>2,g[j++]=b>>8&255,g[j++]=255&b),g}function p(a){for(var b,c=a.length,d=c%3,e=[],f=0,h=c-d;f<h;f+=16383)e.push(function(a,b,c){for(var d,e=[],f=b;f<c;f+=3)d=(a[f]<<16&0xff0000)+(a[f+1]<<8&65280)+(255&a[f+2]),e.push(g[d>>18&63]+g[d>>12&63]+g[d>>6&63]+g[63&d]);return e.join("")}(a,f,f+16383>h?h:f+16383));return 1===d?e.push(g[(b=a[c-1])>>2]+g[b<<4&63]+"=="):2===d&&e.push(g[(b=(a[c-2]<<8)+a[c-1])>>10]+g[b>>4&63]+g[b<<2&63]+"="),e.join("")}function q(a){if(void 0===a)return{};if(!s(a))throw Error(`The arguments to a Convex function must be an object. Received: ${a}`);return a}function r(a){if(void 0===a)throw Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if("string"!=typeof a)throw Error(`Invalid deployment address: found ${a}".`);if(!(a.startsWith("http:")||a.startsWith("https:")))throw Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${a}".`);try{new URL(a)}catch{throw Error(`Invalid deployment address: "${a}" is not a valid URL. If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}if(a.endsWith(".convex.site"))throw Error(`Invalid deployment address: "${a}" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function s(a){let b="object"==typeof a,c=Object.getPrototypeOf(a),d=null===c||c===Object.prototype||c?.constructor?.name==="Object";return b&&d}h[45]=62,h[95]=63;let t=BigInt("-9223372036854775808"),u=BigInt("9223372036854775807"),v=BigInt("0"),w=BigInt("8"),x=BigInt("256");function y(a){return Number.isNaN(a)||!Number.isFinite(a)||Object.is(a,-0)}let z=DataView.prototype.setBigInt64?function(a){if(a<t||u<a)throw Error(`BigInt ${a} does not fit into a 64-bit signed integer.`);let b=new ArrayBuffer(8);return new DataView(b).setBigInt64(0,a,!0),p(new Uint8Array(b))}:function(a){a<v&&(a-=t+t);let b=a.toString(16);b.length%2==1&&(b="0"+b);let c=new Uint8Array(new ArrayBuffer(8)),d=0;for(let e of b.match(/.{2}/g).reverse())c.set([parseInt(e,16)],d++),a>>=w;return p(c)},A=DataView.prototype.getBigInt64?function(a){let b=o(a);if(8!==b.byteLength)throw Error(`Received ${b.byteLength} bytes, expected 8 for $integer`);return new DataView(b.buffer).getBigInt64(0,!0)}:function(a){let b=o(a);if(8!==b.byteLength)throw Error(`Received ${b.byteLength} bytes, expected 8 for $integer`);let c=v,d=v;for(let a of b)c+=BigInt(a)*x**d,d++;return c>u&&(c+=t+t),c};function B(a){if(a.length>1024)throw Error(`Field name ${a} exceeds maximum field name length 1024.`);if(a.startsWith("$"))throw Error(`Field name ${a} starts with a '$', which is reserved.`);for(let b=0;b<a.length;b+=1){let c=a.charCodeAt(b);if(c<32||c>=127)throw Error(`Field name ${a} has invalid character '${a[b]}': Field names can only contain non-control ASCII characters`)}}function C(a){if(null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a)return a;if(Array.isArray(a))return a.map(a=>C(a));if("object"!=typeof a)throw Error(`Unexpected type of ${a}`);let b=Object.entries(a);if(1===b.length){let c=b[0][0];if("$bytes"===c){if("string"!=typeof a.$bytes)throw Error(`Malformed $bytes field on ${a}`);return o(a.$bytes).buffer}if("$integer"===c){if("string"!=typeof a.$integer)throw Error(`Malformed $integer field on ${a}`);return A(a.$integer)}if("$float"===c){if("string"!=typeof a.$float)throw Error(`Malformed $float field on ${a}`);let b=o(a.$float);if(8!==b.byteLength)throw Error(`Received ${b.byteLength} bytes, expected 8 for $float`);let c=new DataView(b.buffer).getFloat64(0,!0);if(!y(c))throw Error(`Float ${c} should be encoded as a number`);return c}if("$set"===c)throw Error("Received a Set which is no longer supported as a Convex type.");if("$map"===c)throw Error("Received a Map which is no longer supported as a Convex type.")}let c={};for(let[b,d]of Object.entries(a))B(b),c[b]=C(d);return c}function D(a){return JSON.stringify(a,(a,b)=>void 0===b?"undefined":"bigint"==typeof b?`${b.toString()}n`:b)}function E(a,b,c,d){if(void 0===a){let a=c&&` (present at path ${c} in original object ${D(b)})`;throw Error(`undefined is not a valid Convex value${a}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(null===a)return a;if("bigint"==typeof a){if(a<t||u<a)throw Error(`BigInt ${a} does not fit into a 64-bit signed integer.`);return{$integer:z(a)}}if("number"==typeof a)if(!y(a))return a;else{let b=new ArrayBuffer(8);return new DataView(b).setFloat64(0,a,!0),{$float:p(new Uint8Array(b))}}if("boolean"==typeof a||"string"==typeof a)return a;if(a instanceof ArrayBuffer)return{$bytes:p(new Uint8Array(a))};if(Array.isArray(a))return a.map((a,d)=>E(a,b,c+`[${d}]`,!1));if(a instanceof Set)throw Error(F(c,"Set",[...a],b));if(a instanceof Map)throw Error(F(c,"Map",[...a],b));if(!s(a)){let d=a?.constructor?.name;throw Error(F(c,d?`${d} `:"",a,b))}let e={},f=Object.entries(a);for(let[a,g]of(f.sort(([a,b],[c,d])=>a===c?0:a<c?-1:1),f))void 0!==g?(B(a),e[a]=E(g,b,c+`.${a}`,!1)):d&&(B(a),e[a]=G(g,b,c+`.${a}`));return e}function F(a,b,c,d){return a?`${b}${D(c)} is not a supported Convex type (present at path ${a} in original object ${D(d)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${b}${D(c)} is not a supported Convex type.`}function G(a,b,c){if(void 0===a)return{$undefined:null};if(void 0===b)throw Error(`Programming error. Current value is ${D(a)} but original value is undefined`);return E(a,b,c,!1)}function H(a){return E(a,a,"",!1)}function I(a){return G(a,a,"")}var J=Object.defineProperty,K=(a,b,c)=>((a,b,c)=>b in a?J(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c)(a,"symbol"!=typeof b?b+"":b,c);class L{constructor({isOptional:a}){K(this,"type"),K(this,"fieldPaths"),K(this,"isOptional"),K(this,"isConvexValidator"),this.isOptional=a,this.isConvexValidator=!0}get optional(){return"optional"===this.isOptional}}class M extends L{constructor(){super(...arguments),K(this,"kind","float64")}get json(){return{type:"number"}}asOptional(){return new M({isOptional:"optional"})}}class N extends L{constructor(){super(...arguments),K(this,"kind","string")}get json(){return{type:this.kind}}asOptional(){return new N({isOptional:"optional"})}}class O extends L{constructor(){super(...arguments),K(this,"kind","null")}get json(){return{type:this.kind}}asOptional(){return new O({isOptional:"optional"})}}class P extends L{constructor(){super(...arguments),K(this,"kind","any")}get json(){return{type:this.kind}}asOptional(){return new P({isOptional:"optional"})}}class Q extends L{constructor({isOptional:a,fields:b}){super({isOptional:a}),K(this,"fields"),K(this,"kind","object"),globalThis.Object.values(b).forEach(a=>{if(!a.isConvexValidator)throw Error("v.object() entries must be valiators")}),this.fields=b}get json(){return{type:this.kind,value:globalThis.Object.fromEntries(globalThis.Object.entries(this.fields).map(([a,b])=>[a,{fieldType:b.json,optional:"optional"===b.isOptional}]))}}asOptional(){return new Q({isOptional:"optional",fields:this.fields})}}class R extends L{constructor({isOptional:a,value:b}){if(super({isOptional:a}),K(this,"value"),K(this,"kind","literal"),"string"!=typeof b&&"boolean"!=typeof b&&"number"!=typeof b&&"bigint"!=typeof b)throw Error("v.literal(value) must be a string, number, or boolean");this.value=b}get json(){return{type:this.kind,value:H(this.value)}}asOptional(){return new R({isOptional:"optional",value:this.value})}}class S extends L{constructor({isOptional:a,element:b}){super({isOptional:a}),K(this,"element"),K(this,"kind","array"),this.element=b}get json(){return{type:this.kind,value:this.element.json}}asOptional(){return new S({isOptional:"optional",element:this.element})}}class T extends L{constructor({isOptional:a,members:b}){super({isOptional:a}),K(this,"members"),K(this,"kind","union"),b.forEach(a=>{if(!a.isConvexValidator)throw Error("All members of v.union() must be validators")}),this.members=b}get json(){return{type:this.kind,value:this.members.map(a=>a.json)}}asOptional(){return new T({isOptional:"optional",members:this.members})}}let U={null:()=>new O({isOptional:"required"}),number:()=>new M({isOptional:"required"}),float64:()=>new M({isOptional:"required"}),string:()=>new N({isOptional:"required"}),literal:a=>new R({isOptional:"required",value:a}),array:a=>new S({isOptional:"required",element:a}),object:a=>new Q({isOptional:"required",fields:a}),union:(...a)=>new T({isOptional:"required",members:a}),any:()=>new P({isOptional:"required"}),optional:a=>a.asOptional()};a.i(20476);var V=Object.defineProperty,W=(a,b,c)=>((a,b,c)=>b in a?V(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c)(a,"symbol"!=typeof b?b+"":b,c);let X=Symbol.for("ConvexError");class Y extends(d=Error,c=X,d){constructor(a){super("string"==typeof a?a:D(a)),W(this,"name","ConvexError"),W(this,"data"),W(this,c,!0),this.data=a}}let Z=()=>Array.from({length:4},()=>0);Z(),Z();var $=Object.defineProperty,_=(a,b,c)=>((a,b,c)=>b in a?$(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c)(a,"symbol"!=typeof b?b+"":b,c);class aa{constructor(a){_(this,"_onLogLineFuncs"),_(this,"_verbose"),this._onLogLineFuncs={},this._verbose=a.verbose}addLogLineListener(a){let b=Math.random().toString(36).substring(2,15);for(let a=0;a<10&&void 0!==this._onLogLineFuncs[b];a++)b=Math.random().toString(36).substring(2,15);return this._onLogLineFuncs[b]=a,()=>{delete this._onLogLineFuncs[b]}}logVerbose(...a){if(this._verbose)for(let b of Object.values(this._onLogLineFuncs))b("debug",`${new Date().toISOString()}`,...a)}log(...a){for(let b of Object.values(this._onLogLineFuncs))b("info",...a)}warn(...a){for(let b of Object.values(this._onLogLineFuncs))b("warn",...a)}error(...a){for(let b of Object.values(this._onLogLineFuncs))b("error",...a)}}function ab(a,b,c,d,e){let f=function(a){switch(a){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}(c);if("object"==typeof e&&(e=`ConvexError ${JSON.stringify(e.errorData,null,2)}`),"info"===b){let b=e.match(/^\[.*?\] /);if(null===b)return void a.error(`[CONVEX ${f}(${d})] Could not parse console.log`);let c=e.slice(1,b[0].length-2),g=e.slice(b[0].length);a.log(`%c[CONVEX ${f}(${d})] [${c}]`,"color:rgb(0, 145, 255)",g)}else a.error(`[CONVEX ${f}(${d})] ${e}`)}let ac=Symbol.for("functionName"),ad=Symbol.for("toReferencePath");function ae(a){let b=function(a){let b;if("string"==typeof a)b=a.startsWith("function://")?{functionHandle:a}:{name:a};else if(a[ac])b={name:a[ac]};else{let c=a[ad]??null;if(!c)throw Error(`${a} is not a functionReference`);b={reference:c}}return b}(a);if(void 0===b.name){if(void 0!==b.functionHandle)throw Error(`Expected function reference like "api.file.func" or "internal.file.func", but received function handle ${b.functionHandle}`);if(void 0!==b.reference)throw Error(`Expected function reference in the current component like "api.file.func" or "internal.file.func", but received reference ${b.reference}`);throw Error(`Expected function reference like "api.file.func" or "internal.file.func", but received ${JSON.stringify(b)}`)}if("string"==typeof a)return a;let c=a[ac];if(!c)throw Error(`${a} is not a functionReference`);return c}let af=function a(b=[]){return new Proxy({},{get(c,d){if("string"==typeof d)return a([...b,d]);if(d===ac){if(b.length<2){let a=["api",...b].join(".");throw Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${a}\``)}let a=b.slice(0,-1).join("/"),c=b[b.length-1];return"default"===c?a:a+":"+c}return d===Symbol.toStringTag?"FunctionReference":void 0}})}();var ag=Object.defineProperty,ah=(a,b,c)=>((a,b,c)=>b in a?ag(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c)(a,"symbol"!=typeof b?b+"":b,c);class ai{constructor(a,b){ah(this,"low"),ah(this,"high"),ah(this,"__isUnsignedLong__"),this.low=0|a,this.high=0|b,this.__isUnsignedLong__=!0}static isLong(a){return!0===(a&&a.__isUnsignedLong__)}static fromBytesLE(a){return new ai(a[0]|a[1]<<8|a[2]<<16|a[3]<<24,a[4]|a[5]<<8|a[6]<<16|a[7]<<24)}toBytesLE(){let a=this.high,b=this.low;return[255&b,b>>>8&255,b>>>16&255,b>>>24,255&a,a>>>8&255,a>>>16&255,a>>>24]}static fromNumber(a){return isNaN(a)||a<0?aj:a>=al?am:new ai(a%ak|0,a/ak|0)}toString(){return(BigInt(this.high)*BigInt(ak)+BigInt(this.low)).toString()}equals(a){return ai.isLong(a)||(a=ai.fromValue(a)),(this.high>>>31!=1||a.high>>>31!=1)&&this.high===a.high&&this.low===a.low}notEquals(a){return!this.equals(a)}comp(a){return(ai.isLong(a)||(a=ai.fromValue(a)),this.equals(a))?0:a.high>>>0>this.high>>>0||a.high===this.high&&a.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(a){return 0>=this.comp(a)}static fromValue(a){return"number"==typeof a?ai.fromNumber(a):new ai(a.low,a.high)}}let aj=new ai(0,0),ak=0x100000000,al=0xffffffffffffffff,am=new ai(-1,-1);(class extends Error{}).prototype.name="InvalidTokenError";var an=Object.defineProperty,ao=(a,b,c)=>((a,b,c)=>b in a?an(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c)(a,"symbol"!=typeof b?b+"":b,c);class ap{constructor(a,b){if(ao(this,"address"),ao(this,"auth"),ao(this,"adminAuth"),ao(this,"encodedTsPromise"),ao(this,"debug"),ao(this,"fetchOptions"),ao(this,"logger"),ao(this,"mutationQueue",[]),ao(this,"isProcessingQueue",!1),"boolean"==typeof b)throw Error("skipConvexDeploymentUrlCheck as the second argument is no longer supported. Please pass an options object, `{ skipConvexDeploymentUrlCheck: true }`.");!0!==(b??{}).skipConvexDeploymentUrlCheck&&r(a),this.logger=b?.logger===!1?new aa({verbose:!1}):b?.logger!==!0&&b?.logger?b.logger:function(a){let b=new aa(a);return b.addLogLineListener((a,...b)=>{switch(a){case"debug":console.debug(...b);break;case"info":default:console.log(...b);break;case"warn":console.warn(...b);break;case"error":console.error(...b)}}),b}({verbose:!1}),this.address=a,this.debug=!0}backendUrl(){return`${this.address}/api`}get url(){return this.address}setAuth(a){this.clearAuth(),this.auth=a}setAdminAuth(a,b){if(this.clearAuth(),void 0!==b){let c=btoa(String.fromCodePoint(...new TextEncoder().encode(JSON.stringify(b))));this.adminAuth=`${a}:${c}`}else this.adminAuth=a}clearAuth(){this.auth=void 0,this.adminAuth=void 0}setDebug(a){this.debug=a}setFetchOptions(a){this.fetchOptions=a}async consistentQuery(a,...b){let c=q(b[0]),d=this.getTimestamp();return await this.queryInner(a,c,{timestampPromise:d})}async getTimestamp(){return this.encodedTsPromise?this.encodedTsPromise:this.encodedTsPromise=this.getTimestampInner()}async getTimestampInner(){let a=b||fetch,c={"Content-Type":"application/json","Convex-Client":`npm-${f}`},d=await a(`${this.address}/api/query_ts`,{...this.fetchOptions,method:"POST",headers:c});if(!d.ok)throw Error(await d.text());let{ts:e}=await d.json();return e}async query(a,...b){let c=q(b[0]);return await this.queryInner(a,c,{})}async queryInner(a,c,d){let e=ae(a),g=[H(c)],h={"Content-Type":"application/json","Convex-Client":`npm-${f}`};this.adminAuth?h.Authorization=`Convex ${this.adminAuth}`:this.auth&&(h.Authorization=`Bearer ${this.auth}`);let i=b||fetch,j=d.timestampPromise?await d.timestampPromise:void 0,k=JSON.stringify({path:e,format:"convex_encoded_json",args:g,...j?{ts:j}:{}}),l=j?`${this.address}/api/query_at_ts`:`${this.address}/api/query`,m=await i(l,{...this.fetchOptions,body:k,method:"POST",headers:h});if(!m.ok&&560!==m.status)throw Error(await m.text());let n=await m.json();if(this.debug)for(let a of n.logLines??[])ab(this.logger,"info","query",e,a);switch(n.status){case"success":return C(n.value);case"error":if(void 0!==n.errorData)throw aq(n.errorData,new Y(n.errorMessage));throw Error(n.errorMessage);default:throw Error(`Invalid response: ${JSON.stringify(n)}`)}}async mutationInner(a,c){let d=ae(a),e=JSON.stringify({path:d,format:"convex_encoded_json",args:[H(c)]}),g={"Content-Type":"application/json","Convex-Client":`npm-${f}`};this.adminAuth?g.Authorization=`Convex ${this.adminAuth}`:this.auth&&(g.Authorization=`Bearer ${this.auth}`);let h=b||fetch,i=await h(`${this.address}/api/mutation`,{...this.fetchOptions,body:e,method:"POST",headers:g});if(!i.ok&&560!==i.status)throw Error(await i.text());let j=await i.json();if(this.debug)for(let a of j.logLines??[])ab(this.logger,"info","mutation",d,a);switch(j.status){case"success":return C(j.value);case"error":if(void 0!==j.errorData)throw aq(j.errorData,new Y(j.errorMessage));throw Error(j.errorMessage);default:throw Error(`Invalid response: ${JSON.stringify(j)}`)}}async processMutationQueue(){if(!this.isProcessingQueue){for(this.isProcessingQueue=!0;this.mutationQueue.length>0;){let{mutation:a,args:b,resolve:c,reject:d}=this.mutationQueue.shift();try{let d=await this.mutationInner(a,b);c(d)}catch(a){d(a)}}this.isProcessingQueue=!1}}enqueueMutation(a,b){return new Promise((c,d)=>{this.mutationQueue.push({mutation:a,args:b,resolve:c,reject:d}),this.processMutationQueue()})}async mutation(a,...b){let[c,d]=b,e=q(c);return d?.skipQueue?await this.mutationInner(a,e):await this.enqueueMutation(a,e)}async action(a,...c){let d=q(c[0]),e=ae(a),g=JSON.stringify({path:e,format:"convex_encoded_json",args:[H(d)]}),h={"Content-Type":"application/json","Convex-Client":`npm-${f}`};this.adminAuth?h.Authorization=`Convex ${this.adminAuth}`:this.auth&&(h.Authorization=`Bearer ${this.auth}`);let i=b||fetch,j=await i(`${this.address}/api/action`,{...this.fetchOptions,body:g,method:"POST",headers:h});if(!j.ok&&560!==j.status)throw Error(await j.text());let k=await j.json();if(this.debug)for(let a of k.logLines??[])ab(this.logger,"info","action",e,a);switch(k.status){case"success":return C(k.value);case"error":if(void 0!==k.errorData)throw aq(k.errorData,new Y(k.errorMessage));throw Error(k.errorMessage);default:throw Error(`Invalid response: ${JSON.stringify(k)}`)}}async function(a,c,...d){let e=q(d[0]),g="string"==typeof a?a:ae(a),h=JSON.stringify({componentPath:c,path:g,format:"convex_encoded_json",args:H(e)}),i={"Content-Type":"application/json","Convex-Client":`npm-${f}`};this.adminAuth?i.Authorization=`Convex ${this.adminAuth}`:this.auth&&(i.Authorization=`Bearer ${this.auth}`);let j=b||fetch,k=await j(`${this.address}/api/function`,{...this.fetchOptions,body:h,method:"POST",headers:i});if(!k.ok&&560!==k.status)throw Error(await k.text());let l=await k.json();if(this.debug)for(let a of l.logLines??[])ab(this.logger,"info","any",g,a);switch(l.status){case"success":return C(l.value);case"error":if(void 0!==l.errorData)throw aq(l.errorData,new Y(l.errorMessage));throw Error(l.errorMessage);default:throw Error(`Invalid response: ${JSON.stringify(l)}`)}}}function aq(a,b){return b.data=C(a),b}function ar(a,b){if("undefined"==typeof Convex||void 0===Convex.syscall)throw Error("The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?");return JSON.parse(Convex.syscall(a,JSON.stringify(b)))}async function as(a,b){let c;if("undefined"==typeof Convex||void 0===Convex.asyncSyscall)throw Error("The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?");try{c=await Convex.asyncSyscall(a,JSON.stringify(b))}catch(a){if(void 0!==a.data){let b=new Y(a.message);throw b.data=C(a.data),b}throw Error(a.message)}return JSON.parse(c)}function at(a,b,c,d){if(void 0===a)throw TypeError(`Must provide arg ${b} \`${d}\` to \`${c}\``)}var au=Object.defineProperty,av=(a,b,c)=>((a,b,c)=>b in a?au(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c)(a,"symbol"!=typeof b?b+"":b,c);class aw{constructor(){av(this,"_isExpression"),av(this,"_value")}}var ax=Object.defineProperty;class ay extends aw{constructor(a){super(),((a,b,c)=>((a,b,c)=>b in a?ax(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c)(a,"symbol"!=typeof b?b+"":b,c))(this,"inner"),this.inner=a}serialize(){return this.inner}}function az(a){return a instanceof ay?a.serialize():{$literal:I(a)}}let aA={eq:(a,b)=>new ay({$eq:[az(a),az(b)]}),neq:(a,b)=>new ay({$neq:[az(a),az(b)]}),lt:(a,b)=>new ay({$lt:[az(a),az(b)]}),lte:(a,b)=>new ay({$lte:[az(a),az(b)]}),gt:(a,b)=>new ay({$gt:[az(a),az(b)]}),gte:(a,b)=>new ay({$gte:[az(a),az(b)]}),add:(a,b)=>new ay({$add:[az(a),az(b)]}),sub:(a,b)=>new ay({$sub:[az(a),az(b)]}),mul:(a,b)=>new ay({$mul:[az(a),az(b)]}),div:(a,b)=>new ay({$div:[az(a),az(b)]}),mod:(a,b)=>new ay({$mod:[az(a),az(b)]}),neg:a=>new ay({$neg:az(a)}),and:(...a)=>new ay({$and:a.map(az)}),or:(...a)=>new ay({$or:a.map(az)}),not:a=>new ay({$not:az(a)}),field:a=>new ay({$field:a})};var aB=Object.defineProperty,aC=(a,b,c)=>((a,b,c)=>b in a?aB(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c)(a,"symbol"!=typeof b?b+"":b,c);function aD(a){throw Error("consumed"===a?"This query is closed and can't emit any more values.":"This query has been chained with another operator and can't be reused.")}Symbol.asyncIterator;class aE{constructor(a){aC(this,"state"),aC(this,"tableNameForErrorMessages"),this.state={type:"preparing",query:a},"FullTableScan"===a.source.type?this.tableNameForErrorMessages=a.source.tableName:this.tableNameForErrorMessages=a.source.indexName.split(".")[0]}takeQuery(){if("preparing"!==this.state.type)throw Error("A query can only be chained once and can't be chained after iteration begins.");let a=this.state.query;return this.state={type:"closed"},a}startQuery(){if("executing"===this.state.type)throw Error("Iteration can only begin on a query once.");("closed"===this.state.type||"consumed"===this.state.type)&&aD(this.state.type);let{queryId:a}=ar("1.0/queryStream",{query:this.state.query,version:f});return this.state={type:"executing",queryId:a},a}closeQuery(){"executing"===this.state.type&&ar("1.0/queryCleanup",{queryId:this.state.queryId}),this.state={type:"consumed"}}order(a){at(a,1,"order","order");let b=this.takeQuery();if("Search"===b.source.type)throw Error("Search queries must always be in relevance order. Can not set order manually.");if(null!==b.source.order)throw Error("Queries may only specify order at most once");return b.source.order=a,new aE(b)}filter(a){at(a,1,"filter","predicate");let b=this.takeQuery();if(b.operators.length>=256)throw Error("Can't construct query with more than 256 operators");return b.operators.push({filter:az(a(aA))}),new aE(b)}limit(a){at(a,1,"limit","n");let b=this.takeQuery();return b.operators.push({limit:a}),new aE(b)}[Symbol.asyncIterator](){return this.startQuery(),this}async next(){("closed"===this.state.type||"consumed"===this.state.type)&&aD(this.state.type);let a="preparing"===this.state.type?this.startQuery():this.state.queryId,{value:b,done:c}=await as("1.0/queryStreamNext",{queryId:a});return c&&this.closeQuery(),{value:C(b),done:c}}return(){return this.closeQuery(),Promise.resolve({done:!0,value:void 0})}async paginate(a){if(at(a,1,"paginate","options"),"number"!=typeof a?.numItems||a.numItems<0)throw Error(`\`options.numItems\` must be a positive number. Received \`${a?.numItems}\`.`);let b=this.takeQuery(),c=a.numItems,d=a.cursor,e=a?.endCursor??null,g=a.maximumRowsRead??null,{page:h,isDone:i,continueCursor:j,splitCursor:k,pageStatus:l}=await as("1.0/queryPage",{query:b,cursor:d,endCursor:e,pageSize:c,maximumRowsRead:g,maximumBytesRead:a.maximumBytesRead,version:f});return{page:h.map(a=>C(a)),isDone:i,continueCursor:j,splitCursor:k,pageStatus:l}}async collect(){let a=[];for await(let b of this)a.push(b);return a}async take(a){at(a,1,"take","n");if(!Number.isInteger(a)||a<0)throw TypeError("Arg 1 `n` to `take` must be a non-negative integer");return this.limit(a).collect()}async first(){let a=await this.take(1);return 0===a.length?null:a[0]}async unique(){let a=await this.take(2);if(0===a.length)return null;if(2===a.length)throw Error(`unique() query returned more than one result from table ${this.tableNameForErrorMessages}:
 [${a[0]._id}, ${a[1]._id}, ...]`);return a[0]}}U.object({numItems:U.number(),cursor:U.union(U.string(),U.null()),endCursor:U.optional(U.union(U.string(),U.null())),id:U.optional(U.number()),maximumRowsRead:U.optional(U.number()),maximumBytesRead:U.optional(U.number())});var aF=Object.defineProperty,aG=(a,b,c)=>((a,b,c)=>b in a?aF(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c)(a,"symbol"!=typeof b?b+"":b,c);class aH{constructor(a){aG(this,"indexes"),aG(this,"searchIndexes"),aG(this,"vectorIndexes"),aG(this,"validator"),this.indexes=[],this.searchIndexes=[],this.vectorIndexes=[],this.validator=a}" indexes"(){return this.indexes}index(a,b){return this.indexes.push({indexDescriptor:a,fields:b}),this}searchIndex(a,b){return this.searchIndexes.push({indexDescriptor:a,searchField:b.searchField,filterFields:b.filterFields||[]}),this}vectorIndex(a,b){return this.vectorIndexes.push({indexDescriptor:a,vectorField:b.vectorField,dimensions:b.dimensions,filterFields:b.filterFields||[]}),this}self(){return this}export(){let a=this.validator.json;if("object"!=typeof a)throw Error("Invalid validator: please make sure that the parameter of `defineTable` is valid (see https://docs.convex.dev/database/schemas)");return{indexes:this.indexes,searchIndexes:this.searchIndexes,vectorIndexes:this.vectorIndexes,documentType:a}}}function aI(a){return new aH(a.isConvexValidator?a:U.object(a))}async function aJ(a,...b){let[c,d]=b;return(function(a){"url"in a&&void 0===a.url&&console.error("deploymentUrl is undefined, are your environment variables set? In the future explicitly passing undefined will cause an error. To explicitly use the default, pass `process.env.NEXT_PUBLIC_CONVEX_URL`.");let b=new ap(function(a,b){let c=a??"https://determined-sandpiper-238.convex.cloud",d=void 0===a;if("string"!=typeof c)throw Error(d?"Environment variable NEXT_PUBLIC_CONVEX_URL is not set.":"Convex function called with invalid deployment address.");return b||r(c),c}(a.url,a.skipConvexDeploymentUrlCheck??!1));return void 0!==a.token&&b.setAuth(a.token),void 0!==a.adminToken&&b.setAdminAuth(a.adminToken),b.setFetchOptions({cache:"no-store"}),b})(d??{}).query(a,c)}function aK(){}function aL(a){let b="Public Utility"===a.category||"Volatile Prototype"===a.category?a.category:"Volatile Prototype";return{id:a._id,title:a.title,tagline:a.tagline,description:a.description,projectUrl:a.projectUrl,imageUrl:a.imageUrl,screenshots:a.screenshots||[],challenges:a.challenges||[],solutions:a.solutions||[],metrics:a.metrics,techStack:a.techStack||[],category:b,isFeatured:a.isFeatured??!1,isIncoming:a.isIncoming??!1,sortOrder:a.sortOrder??0}}async function aM(){return aK(),(await aJ(af.projects.list,{})).map(aL)}async function aN(a){try{aK();let b=await aJ(af.projects.get,{id:a});return b?aL(b):null}catch{return null}}new class a{constructor(a,b){aG(this,"tables"),aG(this,"strictTableNameTypes"),aG(this,"schemaValidation"),this.tables=a,this.schemaValidation=b?.schemaValidation===void 0||b.schemaValidation}export(){return JSON.stringify({tables:Object.entries(this.tables).map(([a,b])=>{let{indexes:c,searchIndexes:d,vectorIndexes:e,documentType:f}=b.export();return{tableName:a,indexes:c,searchIndexes:d,vectorIndexes:e,documentType:f}}),schemaValidation:this.schemaValidation})}}({_scheduled_functions:aI({name:U.string(),args:U.array(U.any()),scheduledTime:U.float64(),completedTime:U.optional(U.float64()),state:U.union(U.object({kind:U.literal("pending")}),U.object({kind:U.literal("inProgress")}),U.object({kind:U.literal("success")}),U.object({kind:U.literal("failed"),error:U.string()}),U.object({kind:U.literal("canceled")}))}),_storage:aI({sha256:U.string(),size:U.float64(),contentType:U.optional(U.string())})},void 0),(0,a.i(13095).ensureServerEntryExports)([aM,aN]),(0,e.registerServerReference)(aM,"004cb488a5aa4e0dfb19eaef8a486baefa28082e40",null),(0,e.registerServerReference)(aN,"402192ec7858a6e1c965db906b9ba1fe3ff4f5f87a",null)}];

//# sourceMappingURL=_e4b9dfd9._.js.map